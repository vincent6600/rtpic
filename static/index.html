<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Product Image Generator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>AI Product Image Generator</h1>
            <div class="theme-toggle">
                <button id="theme-toggle">
                    <svg class="theme-icon sun" viewBox="0 0 24 24">
                        <path d="M12 4V2m0 20v-2m8-8h2M2 12h2m15.071 8.071l1.414-1.414M5.515 5.515l1.414-1.414m12.728 0l-1.414 1.414M5.515 18.485l-1.414 1.414M12 18a6 6 0 100-12 6 6 0 000 12z"/>
                    </svg>
                    <svg class="theme-icon moon" viewBox="0 0 24 24">
                        <path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                    </svg>
                </button>
            </div>
        </header>
        <main>
            <div class="model-selector">
                <h3>Choose Your Model:</h3>
                <div class="model-grid">
                    <div class="model-card" data-model="chatgpt">
                        <div class="model-header">
                            <h4>ChatGPT</h4>
                        </div>
                    </div>
                    <div class="model-card" data-model="nano-banana">
                        <div class="model-header">
                            <h4>Nano Banana</h4>
                        </div>
                    </div>
                    <div class="model-card" data-model="qwen-image">
                        <div class="model-header">
                            <h4>Qwen-Image</h4>
                        </div>
                    </div>
                    <div class="model-card" data-model="flux">
                        <div class="model-header">
                            <h4>Flux</h4>
                        </div>
                    </div>
                    <div class="model-card" data-model="kontext">
                        <div class="model-header">
                            <h4>Kontext</h4>
                        </div>
                    </div>
                    <div class="model-card" data-model="krea">
                        <div class="model-header">
                            <h4>Krea</h4>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="model-controls" id="chatgpt-controls" style="display: none;">
                <h3>ChatGPT Configuration</h3>
                <div class="form-group">
                    <label for="chatgpt-prompt">Prompt:</label>
                    <textarea id="chatgpt-prompt" placeholder="Enter your prompt here..." rows="4"></textarea>
                    <button class="prompt-optimize-btn" data-target="chatgpt-prompt">优化提示词</button>
                </div>
                <div class="form-group">
                    <label for="chatgpt-size">Size:</label>
                    <select id="chatgpt-size">
                        <option value="1024x1024">1024x1024</option>
                        <option value="1024x1792">1024x1792</option>
                        <option value="1792x1024">1792x1024</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="chatgpt-quality">Quality:</label>
                    <select id="chatgpt-quality">
                        <option value="standard">standard</option>
                        <option value="hd">hd</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="chatgpt-style">Style:</label>
                    <select id="chatgpt-style">
                        <option value="vivid">vivid</option>
                        <option value="natural">natural</option>
                    </select>
                </div>
                <div class="form-group">
                    <button id="chatgpt-generate">Generate Image</button>
                    <button id="chatgpt-clear">Clear</button>
                </div>
                <div id="chatgpt-result"></div>
            </div>

            <div class="model-controls" id="nanobanana-controls" style="display: none;">
                <h3>Nano Banana Configuration</h3>
                <div class="form-group">
                    <label for="nanobanana-prompt">Prompt:</label>
                    <textarea id="nanobanana-prompt" placeholder="Enter your prompt here..." rows="4"></textarea>
                    <button class="prompt-optimize-btn" data-target="nanobanana-prompt">优化提示词</button>
                </div>
                <div class="form-group">
                    <label for="nanobanana-size">Size:</label>
                    <select id="nanobanana-size">
                        <option value="1024">1024x1024</option>
                        <option value="768">768x768</option>
                        <option value="512">512x512</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="nanobanana-quality">Quality:</label>
                    <select id="nanobanana-quality">
                        <option value="0">Standard</option>
                        <option value="1">High</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="nanobanana-steps">Steps:</label>
                    <input type="number" id="nanobanana-steps" min="10" max="50" value="20">
                </div>
                <div class="form-group">
                    <button id="nanobanana-generate">Generate Image</button>
                    <button id="nanobanana-clear">Clear</button>
                </div>
                <div id="nanobanana-result"></div>
            </div>

            <div class="model-controls" id="modelscope-controls" style="display: none;">
                <h3>ModelScope Configuration</h3>
                <div class="form-group">
                    <label for="modelscope-prompt">Prompt:</label>
                    <textarea id="modelscope-prompt" placeholder="Enter your prompt here..." rows="4"></textarea>
                    <button class="prompt-optimize-btn" data-target="modelscope-prompt">优化提示词</button>
                </div>
                <div class="form-group">
                    <label for="modelscope-negative-prompt">Negative Prompt:</label>
                    <textarea id="modelscope-negative-prompt" placeholder="Enter negative prompt here..." rows="2"></textarea>
                </div>
                <div class="form-group">
                    <label for="modelscope-size">Size:</label>
                    <select id="modelscope-size">
                        <option value="512">512x512</option>
                        <option value="768">768x768</option>
                        <option value="1024">1024x1024</option>
                        <option value="512x768">512x768</option>
                        <option value="768x512">768x512</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="modelscope-steps">Steps:</label>
                    <input type="number" id="modelscope-steps" min="10" max="50" value="20">
                </div>
                <div class="form-group">
                    <label for="modelscope-guidance-scale">Guidance Scale:</label>
                    <input type="number" id="modelscope-guidance-scale" min="1" max="20" step="0.1" value="7.5">
                </div>
                <div class="form-group">
                    <label for="modelscope-seed">Seed (optional):</label>
                    <input type="number" id="modelscope-seed" min="0" max="4294967295" placeholder="Random seed">
                </div>
                <div class="form-group">
                    <label for="modelscope-safety-checker">Safety Checker:</label>
                    <select id="modelscope-safety-checker">
                        <option value="false">Disabled</option>
                        <option value="true">Enabled</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="modelscope-enhance-prompt">Enhance Prompt:</label>
                    <select id="modelscope-enhance-prompt">
                        <option value="false">Disabled</option>
                        <option value="true">Enabled</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="modelscope-aesthetic-score">Aesthetic Score:</label>
                    <input type="number" id="modelscope-aesthetic-score" min="1" max="10" step="0.1" value="6">
                </div>
                <div class="form-group">
                    <button id="modelscope-generate">Generate Image</button>
                    <button id="modelscope-clear">Clear</button>
                </div>
                <div id="modelscope-result"></div>
            </div>
        </main>
    </div>

    <div id="optimization-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>提示词优化结果</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div id="optimization-status" class="optimization-status">
                    <div class="loading-spinner"></div>
                    <p>正在优化提示词...</p>
                </div>
                <div id="optimization-result" class="optimization-result" style="display: none;">
                    <h4>优化后的提示词:</h4>
                    <textarea id="optimized-prompt" readonly rows="8"></textarea>
                    <div class="optimization-actions">
                        <button id="apply-optimized" class="btn-primary">应用到输入框</button>
                        <button id="reject-optimized" class="btn-secondary">忽略</button>
                    </div>
                </div>
                <div id="optimization-error" class="optimization-error" style="display: none;">
                    <h4>优化失败</h4>
                    <p id="error-message"></p>
                    <button id="retry-optimization" class="btn-primary">重试</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>